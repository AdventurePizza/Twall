(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{35:function(t,e,n){},37:function(t,e,n){},45:function(t,e,n){"use strict";n.r(e);var r=n(4),c=(n(35),n(11)),a=n.n(c),i=n(13),s=n(8),o=(n(37),n(0)),l=n.n(o),u=n(68),d=n(16),h=0,p=function(t){var e=t.address,n=t.thumbnail,c=Object(o.useState)(!1),l=Object(s.a)(c,2),u=l[0],p=l[1],b=Object(o.useState)(n),j=Object(s.a)(b,2),g=j[0],O=j[1],m=Object(o.useState)([]),v=Object(s.a)(m,2),y=v[0],x=v[1],k=Object(o.useState)([]),w=Object(s.a)(k,2),_=w[0],S=w[1];return Object(o.useEffect)((function(){function t(t,e,r){return n.apply(this,arguments)}function n(){return(n=Object(i.a)(a.a.mark((function t(e,n,r){var c,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://hdapi.teztools.io/v1/graphql",{method:"POST",body:JSON.stringify({query:e,variables:r,operationName:n})});case 2:return c=t.sent,t.next=5,c.json();case 5:return i=t.sent,t.abrupt("return",i);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function r(){return(r=Object(i.a)(a.a.mark((function e(n){var r,c,i,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(f,"collectorGallery",{address:n});case 2:r=e.sent,c=r.errors,i=r.data,c&&console.error(c),s=i?i.hic_et_nunc_token_holder:null,console.log(n),console.log(s),s&&0!=s.length?s.length>22?x(s.slice(0,21)):x(s):p(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}u&&function(t){r.apply(this,arguments)}(e)}),[e,u]),Object(o.useEffect)((function(){if(u){var t=setInterval((function(){console.log("zap "+h),_&&(h<_.length?h++:h=0,O(_[h]))}),2e3);return function(){clearInterval(t)}}}),[u,_]),Object(r.jsxs)("div",{onClick:function(){console.log("play"),p(!u)},style:{width:"100%",height:"100%",backgroundColor:"black",color:"cyan"},children:[Object(r.jsx)("div",{style:{textAlign:"center",width:"100%",marginBottom:10},children:e}),y&&y.map((function(t){var e=t.token;return Object(r.jsx)("div",{style:{width:"80%",height:"80%",marginLeft:"auto",marginRight:"auto",display:g===e.display_uri.replace("ipfs://","https://ipfs.io/ipfs/")?"block":"none"},children:Object(r.jsx)("img",{onLoad:function(t){return e=t,console.log("loaded"),console.log(e.target.currentSrc),void S([].concat(Object(d.a)(_),[e.target.currentSrc]));var e},src:e.display_uri.replace("ipfs://","https://ipfs.io/ipfs/"),title:"thumbnail",style:{width:"100%"}})},e.id)})),Object(r.jsx)("div",{style:{width:"80%",height:"80%",marginLeft:"auto",marginRight:"auto",display:n===g?"block":"none"},children:Object(r.jsx)("img",{src:n,title:"thumbnail",style:{width:"100%",height:"100%"}})})]})},f='\nquery collectorGallery($address: String!) {\n  hic_et_nunc_token_holder(where: {holder_id: {_eq: $address}, token: {creator: {address: {_neq: $address}}}, quantity: {_gt: "0"}}, order_by: {token_id: desc}) {\n\ttoken {\n\t  id\n\t  artifact_uri\n\t  display_uri\n\t  thumbnail_uri\n\t  timestamp\n\t  mime\n\t  title\n\t  description\n\t  supply\n\t  royalties\n\t  creator {\n\t\taddress\n\t  }\n\t}\n  }\n}\n',b=l.a.createContext({getAllProfilesFB:function(){return Promise.resolve({isSuccessful:!1})}}),j=function(t){var e=t.children,n=Object(o.useCallback)(Object(i.a)(a.a.mark((function t(){var e;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://network1-backend.herokuapp.com/users/allProfiles",{method:"GET"});case 2:if(!(e=t.sent).ok){t.next=7;break}return t.next=6,e.json();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)}))),[]);return Object(r.jsx)(b.Provider,{value:{getAllProfilesFB:n},children:e})};var g=function(){var t=Object(o.useState)([]),e=Object(s.a)(t,2),n=e[0],c=e[1],l=Object(o.useContext)(b).getAllProfilesFB;return Object(o.useEffect)((function(){function t(){return(t=Object(i.a)(a.a.mark((function t(){var e;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l();case 2:e=t.sent,c(e.profiles);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[l,c]),Object(r.jsx)(u.a,{style:{width:"100vw",height:"100vh",display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:0,overflowY:"auto",backgroundColor:"black"},children:n&&n.map((function(t,e){return Object(r.jsx)("div",{style:{width:"100%",height:"33.33vh"},children:Object(r.jsx)(p,{address:t.creators[0].holder.address,thumbnail:t.image.replace("ipfs://","https://ipfs.io/ipfs/")})},e)}))})},O=n(10),m=n.n(O),v=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,72)).then((function(e){var n=e.getCLS,r=e.getFID,c=e.getFCP,a=e.getLCP,i=e.getTTFB;n(t),r(t),c(t),a(t),i(t)}))},y=n(30);m.a.render(Object(r.jsx)(j,{children:Object(r.jsx)(y.a,{maxSnack:3,children:Object(r.jsx)(g,{})})}),document.getElementById("root")),v()}},[[45,1,2]]]);
//# sourceMappingURL=main.6a6207dd.chunk.js.map