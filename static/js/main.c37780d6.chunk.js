(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{19:function(t,e,n){},21:function(t,e,n){},29:function(t,e,n){"use strict";n.r(e);var r=n(1),c=(n(19),n(6)),a=n.n(c),i=n(7),s=n(3),o=(n(21),n(0)),l=n.n(o),u=n(8),d=0,h=function(t){var e=t.address,n=t.thumbnail,c=Object(o.useState)(!1),l=Object(s.a)(c,2),h=l[0],f=l[1],b=Object(o.useState)(n),j=Object(s.a)(b,2),g=j[0],m=j[1],v=Object(o.useState)([]),O=Object(s.a)(v,2),y=O[0],x=O[1],k=Object(o.useState)([]),w=Object(s.a)(k,2),_=w[0],S=w[1];return Object(o.useEffect)((function(){function t(t,e,r){return n.apply(this,arguments)}function n(){return(n=Object(i.a)(a.a.mark((function t(e,n,r){var c,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://hdapi.teztools.io/v1/graphql",{method:"POST",body:JSON.stringify({query:e,variables:r,operationName:n})});case 2:return c=t.sent,t.next=5,c.json();case 5:return i=t.sent,t.abrupt("return",i);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function r(){return(r=Object(i.a)(a.a.mark((function e(n){var r,c,i,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(p,"collectorGallery",{address:n});case 2:r=e.sent,c=r.errors,i=r.data,c&&console.error(c),s=i?i.hic_et_nunc_token_holder:null,console.log(n),console.log(s),s&&0!=s.length?s.length>22?x(s.slice(0,21)):x(s):f(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}h&&function(t){r.apply(this,arguments)}(e)}),[e,h]),Object(o.useEffect)((function(){if(h){var t=setInterval((function(){console.log("zap "+d),_&&(d<_.length?d++:d=0,m(_[d]))}),2e3);return function(){clearInterval(t)}}}),[h,_]),Object(r.jsxs)("div",{onClick:function(){console.log("play"),f(!h)},style:{width:"100%",height:"100%",backgroundColor:"black",color:"cyan"},children:[Object(r.jsx)("div",{style:{textAlign:"center",width:"100%",marginBottom:10,fontSize:"0.2em"},children:e}),y&&y.map((function(t){var e=t.token;return Object(r.jsx)("div",{style:{width:"80%",height:"80%",marginLeft:"auto",marginRight:"auto",display:g===e.display_uri.replace("ipfs://","https://ipfs.io/ipfs/")?"block":"none"},children:Object(r.jsx)("img",{onLoad:function(t){return e=t,console.log("loaded"),console.log(e.target.currentSrc),void S([].concat(Object(u.a)(_),[e.target.currentSrc]));var e},src:e.display_uri.replace("ipfs://","https://ipfs.io/ipfs/"),title:"thumbnail",style:{width:"100%",height:"100%"}})},e.id)})),Object(r.jsx)("div",{style:{width:"80%",height:"80%",marginLeft:"auto",marginRight:"auto",display:n===g?"block":"none"},children:Object(r.jsx)("img",{src:n,title:"thumbnail",style:{width:"100%",height:"100%"}})})]})},p='\nquery collectorGallery($address: String!) {\n  hic_et_nunc_token_holder(where: {holder_id: {_eq: $address}, token: {creator: {address: {_neq: $address}}}, quantity: {_gt: "0"}}, order_by: {token_id: desc}) {\n\ttoken {\n\t  id\n\t  artifact_uri\n\t  display_uri\n\t  thumbnail_uri\n\t  timestamp\n\t  mime\n\t  title\n\t  description\n\t  supply\n\t  royalties\n\t  creator {\n\t\taddress\n\t  }\n\t}\n  }\n}\n',f=l.a.createContext({getAllProfilesFB:function(){return Promise.resolve({isSuccessful:!1})}}),b=function(t){var e=t.children,n=Object(o.useCallback)(Object(i.a)(a.a.mark((function t(){var e;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://twall-backend.herokuapp.com/users/allProfiles",{method:"GET"});case 2:if(!(e=t.sent).ok){t.next=7;break}return t.next=6,e.json();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)}))),[]);return Object(r.jsx)(f.Provider,{value:{getAllProfilesFB:n},children:e})};var j=function(){var t=Object(o.useState)([]),e=Object(s.a)(t,2),n=e[0],c=e[1],l=Object(o.useContext)(f).getAllProfilesFB;return Object(o.useEffect)((function(){function t(){return(t=Object(i.a)(a.a.mark((function t(){var e;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l();case 2:e=t.sent,c(e.profiles);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[l,c]),Object(r.jsx)("div",{style:{width:"100vw",height:"100vh",display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:0,overflowY:"auto",backgroundColor:"black"},children:n&&n.map((function(t,e){return Object(r.jsx)("div",{style:{width:"100%",height:"33.33vh"},children:Object(r.jsx)(h,{address:t.creators[0].holder.address,thumbnail:t.image.replace("ipfs://","https://ipfs.io/ipfs/")})},e)}))})},g=n(5),m=n.n(g),v=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,50)).then((function(e){var n=e.getCLS,r=e.getFID,c=e.getFCP,a=e.getLCP,i=e.getTTFB;n(t),r(t),c(t),a(t),i(t)}))},O=n(15);m.a.render(Object(r.jsx)(b,{children:Object(r.jsx)(O.a,{maxSnack:3,children:Object(r.jsx)(j,{})})}),document.getElementById("root")),v()}},[[29,1,2]]]);
//# sourceMappingURL=main.c37780d6.chunk.js.map